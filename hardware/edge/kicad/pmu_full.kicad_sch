EESchema Schematic File Version 4
LIBS:power
LIBS:device
LIBS:conn
LIBS:regul
LIBS:transistors
LIBS:analog_devices
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "PMU - Edge Alpha (full scaffold)"
Date "2025-11-02"
Rev "alpha-1"
Comp ""
Comment1 "PMU full schematic scaffold: replace placeholder footprints with chosen KiCad library footprints and run ERC. Intended as a starting point for an electrical engineer to finalize." 
$EndDescr

# Components (placeholders â€” set correct footprints in KiCad schematic editor):
# J1: Connector - SOLAR input (2 pins)
# J2: Connector - BATTERY/BMS (4 pins: BATT+, BATT-, SDA, SCL)
# F1: Fuse - series with battery (SMD or through-hole as required)
# D1: TVS diode across solar input
# Q1: P-channel MOSFET (reverse-blocking / ideal diode)
# R1: Shunt resistor (R_SENSE) low-ohm for current measurement
# U1: INA226 (current/power monitor) - I2C
# U2: Buck regulator 5V (synchronous) - EN pin
# U3: Buck regulator 3V3 (synchronous) - EN pin
# U4: LDO 1V8 (optional)
# U5: Voltage supervisor / reset IC
# JDEBUG: 6-pin UART header (TX,RX,3.3V,GND,BOOT,RESET)

# Net labels used in this schematic:
# SOLAR_PLUS, SOLAR_MINUS
# BATT_PLUS, BATT_MINUS
# NET_12V, NET_V5V, NET_V3V3, NET_V1V8
# SENSE_PLUS, SENSE_MINUS
# BMS_SDA, BMS_SCL
# PWR_OK, RESET_N

Text Notes 100 80 2 ~ 0
--- PMU Schematic (full scaffold) ---

Text Notes 100 140 2 ~ 0
J1: SOLAR connector (2-pin)
Conn_01x02 J1
    Attrs: Footprint=Conn_01x02
    Pins:
    1 SOLAR_PLUS
    2 SOLAR_MINUS

Text Notes 100 220 2 ~ 0
D1: TVS across SOLAR input
Device_D1 TVS_SMD
    Attrs: Footprint=TVS_SMD
    Pins:
    A SOLAR_PLUS
    K SOLAR_MINUS

Text Notes 100 300 2 ~ 0
Q1: P-channel MOSFET (ideal-diode) for reverse protection
Transistor_P Q1
    Attrs: Footprint=SOT-23-3
    Pins:
    D MPPT_IN
    S NET_12V
    G Q1_GATE

Text Notes 100 380 2 ~ 0
J2: BATTERY / BMS connector (example: 4-pin JST)
Conn_01x04 J2
    Attrs: Footprint=Conn_01x04
    Pins:
    1 BATT_PLUS
    2 BATT_MINUS
    3 BMS_SDA
    4 BMS_SCL

Text Notes 100 460 2 ~ 0
F1: Fuse in battery positive
Fuse F1
    Attrs: Footprint=Fuse_Holder
    Pins:
    1 NET_12V
    2 BATT_PLUS

Text Notes 100 540 2 ~ 0
R1: Current sense resistor (low value, e.g., 50mOhm)
R R1
    Attrs: Value=0.05
    Pins:
    1 SENSE_PLUS
    2 SENSE_MINUS

Text Notes 100 620 2 ~ 0
U1: INA226 (I2C power monitor)
AnalogDevices_INA226 U1
    Attrs: Footprint=SOIC-8
    Pins:
    VCC NET_V3V3
    GND GND
    SCL BMS_SCL
    SDA BMS_SDA
    VIN+ SENSE_PLUS
    VIN- SENSE_MINUS

Text Notes 100 700 2 ~ 0
U2: 5V buck regulator (example: synchronous buck with EN pin)
Regulator_StepDown U2
    Attrs: Footprint=TO-263-5 or SMD
    Pins:
    VIN NET_12V
    VOUT NET_V5V
    EN EN5
    GND GND

Text Notes 100 780 2 ~ 0
U3: 3.3V buck regulator
Regulator_StepDown U3
    Attrs: Footprint=SOT-23-5
    Pins:
    VIN NET_12V
    VOUT NET_V3V3
    EN EN3V3
    GND GND

Text Notes 100 860 2 ~ 0
U4: Optional 1.8V LDO
Regulator_LDO U4
    Attrs: Footprint=SOT-23-5
    Pins:
    VIN NET_V3V3
    VOUT NET_V1V8
    EN EN1V8
    GND GND

Text Notes 100 940 2 ~ 0
U5: Voltage supervisor (reset generation)
Device_Supervisor U5
    Attrs: Footprint=SOT-23-5
    Pins:
    VCC NET_V3V3
    RESET_N RESET_N

Text Notes 100 1020 2 ~ 0
JDEBUG: UART / debug header
Conn_01x06 JDEBUG
    Attrs: Footprint=Conn_1x06
    Pins:
    1 UART_TX
    2 UART_RX
    3 3V3
    4 GND
    5 BOOT
    6 RESET_N

Text Notes 100 1100 2 ~ 0
# Net ties and recommended testpoints
TP NET_12V TP_12V
TP NET_V5V TP_5V
TP NET_V3V3 TP_3V3
TP NET_V1V8 TP_1V8
TP SENSE_PLUS TP_SENSE_P
TP SENSE_MINUS TP_SENSE_N

Text Notes 100 1180 2 ~ 0
# I2C pull-ups: recommended 4.7k from BMS_SDA/BMS_SCL to NET_V3V3
R R_PU_SDA 4.7k
R R_PU_SCL 4.7k

Text Notes 100 1260 2 ~ 0
# Decoupling: add 0.1uF and bulk caps on VIN and VOUT of each regulator near the ICs.

Text Notes 100 1340 2 ~ 0
# Notes for the engineer:
# - Replace placeholder footprints with chosen parts and footprints in KiCad.
# - After setting footprints, run ERC and review power flags; ensure proper net tie conventions for battery and chassis grounds.
# - Add thermal reliefs and copper pours for power nets in PCB layout.

End
