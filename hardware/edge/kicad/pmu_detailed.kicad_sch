EESchema Schematic File Version 4
LIBS:power
LIBS:device
LIBS:conn
LIBS:regul
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "PMU - Edge Alpha (detailed scaffold)"
Date ""
Rev "alpha-1"
Comp ""
Comment1 "Detailed PMU scaffold: replace component placeholders with KiCad library symbols and footprints in KiCad editor"
$EndDescr

# Suggested component instances (replace with actual KiCad symbols in the editor):
# U_MPPT - MPPT controller or external MPPT connector (J_MPPT)
# J_SOLAR - Connector for SOLAR_PLUS / SOLAR_MINUS
# J_BATT - Battery connector (BATT_PLUS, BATT_MINUS, BMS_SDA, BMS_SCL)
# F1 - Fuse (slow blow) in battery path
# D_TVS - TVS diode on solar input
# Q_REV - P-channel MOSFET ideal-diode for reverse polarity
# R_SENSE - Current shunt (low-value resistor) between SENSE_PLUS and SENSE_MINUS
# U_ISENSE - Current sense amplifier (INA219/INA226)
# U_BUCK5 - 5V synchronous buck (enable pin EN5)
# U_BUCK3V3 - 3.3V regulator (EN3V3)
# U_LDO1V8 - 1.8V LDO (if needed)
# U_SUPERVISOR - Voltage supervisor for reset generation (generates RESET_N)
# J_DEBUG - Debug header: UART_TX, UART_RX, JTAG pins, GND
# TP_* - Testpoints for all rails and sense nodes

# Named nets (create these nets in KiCad schematic):
# SOLAR_PLUS, SOLAR_MINUS
# BATT_PLUS, BATT_MINUS
# BATTERY_GND, GND
# NET_12V
# V5V, V3V3, V1V8
# BMS_SDA, BMS_SCL
# SENSE_PLUS, SENSE_MINUS
# PWR_OK, RESET_N

Text Notes 100 80 2 ~ 0
Place hierarchical sheets for: INPUT_PROTECTION, MPPT_INTERFACE, BATTERY_BMS, DC_DC_REGS, MONITORING, DEBUG

Text Notes 100 160 2 ~ 0
INPUT_PROTECTION:
 - J_SOLAR -> D_TVS -> Q_REV -> MPPT_IN
 - F1 on BATT output near connector

Text Notes 100 260 2 ~ 0
MPPT_INTERFACE:
 - If external module: J_MPPT(BATT+/BATT-), MPPT_TELEM(BMS_SDA/BMS_SCL)
 - If on-board: U_MPPT switching components (inductor, diode/HS, MOSFETs)

Text Notes 100 360 2 ~ 0
BATTERY_BMS:
 - J_BATT (BATT_PLUS, BATT_MINUS, BMS_SDA, BMS_SCL)
 - R_SENSE between BATT_PLUS and NET_12V for current monitoring
 - U_ISENSE measures across R_SENSE and communicates via I2C

Text Notes 100 460 2 ~ 0
DC_DC_REGS:
 - U_BUCK5: VIN=NET_12V -> V5V; EN5 controlled by PWR_OK/compute
 - U_BUCK3V3: VIN=NET_12V -> V3V3; EN3V3 controlled
 - U_LDO1V8: if SoC needs 1.8V
 - Add decoupling caps and bulk electrolytic on VIN of buck converters

Text Notes 100 560 2 ~ 0
MONITORING:
 - U_ISENSE -> I2C to compute module (BMS_SDA/BMS_SCL)
 - TEMP_SENSE near CPU region -> ADC or I2C sensor

Text Notes 100 660 2 ~ 0
DEBUG & PROGRAMMING:
 - J_DEBUG: UART_TX, UART_RX (3.3V), JTAG pins, GND
 - Add TP_12V, TP_5V, TP_3V3, TP_1V8, TP_SENSE+, TP_SENSE-

End
